<svg class="railroad" viewBox="0 0 680 483" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<style type="text/css">
svg.railroad {
background-color: hsl(230, 10%, 20%);
background-size: 15px 15px;
background-image: linear-gradient(to right, rgba(150, 150, 150, .05) 1px, transparent 1px),
		  linear-gradient(to bottom, rgba(150, 150, 150, .05) 1px, transparent 1px);
}

svg.railroad rect.railroad_canvas {
stroke-width: 0px;
fill: none;
}

svg.railroad path {
stroke-width: 3px;
stroke: hsl(200, 10%, 60%);
fill: none;
}

svg.railroad .debug {
stroke-width: 1px;
stroke: red;
}

svg.railroad text {
font: 14px monospace;
text-anchor: middle;
fill: hsl(230, 30%, 80%);
}

svg.railroad .nonterminal text {
font-weight: bold;
}

svg.railroad text.comment {
font: italic 12px monospace;
}

svg.railroad rect {
stroke-width: 3px;
stroke: hsl(200, 10%, 50%);
fill: hsl(230, 20%, 20%);
}

svg.railroad g.labeledbox > rect {
stroke-width: 1px;
stroke: grey;
stroke-dasharray: 5px;
fill: rgba(90, 90, 150, .1);
}
</style>
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 70 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="stack">
<path d=" M 35 70 h 0"/>
<g class="labeledbox">
<rect height="79" width="324" x="35" y="10"/>
<path d=" M 35 70 h 8 m 308 0 h 8"/>
<text class="comment" x="76" y="33">
cfg-expr</text>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="43" y="59"/>
<text x="73" y="75">
cfg!(</text>
</g>
<g class="nonterminal">
<rect height="22" width="44" x="113" y="59"/>
<text x="135" y="75">
key</text>
</g>
<g class="optional">
<path d=" M 167 70 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 98 m -46 0 l -5 -5 m 0 10 l 5 -5 m 46 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="191" y="59"/>
<text x="205" y="75">
.</text>
</g>
<g class="nonterminal">
<rect height="22" width="60" x="229" y="59"/>
<text x="259" y="75">
value</text>
</g>
<path d=" M 219 70 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="323" y="59"/>
<text x="337" y="75">
)</text>
</g>
<path d=" M 103 70 h 10"/>
<path d=" M 157 70 h 10"/>
<path d=" M 313 70 h 10"/>
</g>
</g>
</g>
<path d=" M 369 70 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 70 h 10"/>
<path d=" M 359 70 h 10"/>
</g>
<g class="sequence">
<path d=" M 10 148 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="stack">
<path d=" M 35 148 h 12"/>
<path d=" M 543 148 a 12 12 0 0 1 12 12 v 70 m 0 -32 l -5 -5 m 10 0 l -5 5 m 0 32 a 12 12 0 0 1 -12 12 h -496 m 251 0 l 5 -5 m 0 10 l -5 -5 m -251 0 a 12 12 0 0 0 -12 12 v 48 v 0 a 12 12 0 0 0 12 12 h 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="47" y="137"/>
<text x="81" y="153">
#match</text>
</g>
<g class="labeledbox">
<rect height="129" width="380" x="125" y="101"/>
<path d=" M 125 148 h 8 m 364 0 h 8"/>
<text class="comment" x="183" y="124">
The Scrutinee</text>
<g class="sequence">
<g class="choice">
<path d=" M 133 148 h 24 m 316 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="157" y="137"/>
<text x="171" y="153">
(</text>
</g>
<g class="nonterminal">
<rect height="22" width="84" x="195" y="137"/>
<text x="237" y="153">
cfg-expr</text>
</g>
<g class="repeat">
<path d=" M 289 148 h 12 m 122 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 1 -12 12 m -52 0 h -70 m 38 0 l 5 -5 m 0 10 l -5 -5 m -38 0 a 12 12 0 0 1 -12 -12 v -7 a 12 12 0 0 1 12 -12"/>
<text class="comment" x="397" y="184">
repeat</text>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="301" y="137"/>
<text x="315" y="153">
,</text>
</g>
<g class="nonterminal">
<rect height="22" width="84" x="339" y="137"/>
<text x="381" y="153">
cfg-expr</text>
</g>
<path d=" M 329 148 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="445" y="137"/>
<text x="459" y="153">
)</text>
</g>
<path d=" M 185 148 h 10"/>
<path d=" M 279 148 h 10"/>
<path d=" M 435 148 h 10"/>
</g>
<path d=" M 133 148 a 12 12 0 0 1 12 12 v 39 m 340 0 v -39 a 12 12 0 0 1 12 -12"/>
<path d=" M 145 199 v 0 a 12 12 0 0 0 12 12 m 84 0 h 232 m -113 0 l -5 -5 m 0 10 l 5 -5 m 113 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="nonterminal">
<rect height="22" width="84" x="157" y="200"/>
<text x="199" y="216">
cfg-expr</text>
</g>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="515" y="137"/>
<text x="529" y="153">
{</text>
</g>
<path d=" M 115 148 h 10"/>
<path d=" M 505 148 h 10"/>
</g>
<path d=" M 609 314 a 12 12 0 0 1 12 12 v 100 m 0 -47 l -5 -5 m 10 0 l -5 5 m 0 47 a 12 12 0 0 1 -12 12 h -562 m 284 0 l 5 -5 m 0 10 l -5 -5 m -284 0 a 12 12 0 0 0 -12 12 v 0 v 0 a 12 12 0 0 0 12 12 h 0"/>
<g class="stack">
<path d=" M 47 314 h 0"/>
<g class="sequence">
<g class="repeat">
<path d=" M 47 314 h 12 m 538 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 78 m 0 -36 l -5 -5 m 10 0 l -5 5 m 0 36 a 12 12 0 0 1 -12 12 m -52 0 h -486 m 246 0 l 5 -5 m 0 10 l -5 -5 m -246 0 a 12 12 0 0 1 -12 -12 v -78 m 0 42 l -5 5 m 10 0 l -5 -5 m 0 -42 a 12 12 0 0 1 12 -12"/>
<text class="comment" x="571" y="421">
repeat</text>
<g class="sequence">
<g class="labeledbox">
<rect height="66" width="132" x="59" y="267"/>
<path d=" M 59 314 h 8 m 116 0 h 8"/>
<text class="comment" x="96" y="290">
Pattern</text>
<g class="nonterminal">
<rect height="22" width="116" x="67" y="303"/>
<text x="125" y="319">
pattern-expr</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="201" y="303"/>
<text x="219" y="319">
=&gt;</text>
</g>
<g class="labeledbox">
<rect height="142" width="264" x="247" y="254"/>
<path d=" M 247 314 h 8 m 248 0 h 8"/>
<text class="comment" x="295" y="277">
Item Block</text>
<g class="choice">
<path d=" M 255 314 h 24 m 200 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="279" y="303"/>
<text x="293" y="319">
{</text>
</g>
<g class="repeat">
<path d=" M 317 314 h 12 m 100 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 1 -12 12 m -52 0 h -48 a 12 12 0 0 1 -12 -12 v -7 a 12 12 0 0 1 12 -12"/>
<text class="comment" x="403" y="350">
repeat</text>
<g class="optional">
<path d=" M 329 314 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 52 m -23 0 l -5 -5 m 0 10 l 5 -5 m 23 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="nonterminal">
<rect height="22" width="52" x="353" y="303"/>
<text x="379" y="319">
item</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="451" y="303"/>
<text x="465" y="319">
}</text>
</g>
<path d=" M 307 314 h 10"/>
<path d=" M 441 314 h 10"/>
</g>
<path d=" M 255 314 a 12 12 0 0 1 12 12 v 39 m 224 0 v -39 a 12 12 0 0 1 12 -12"/>
<path d=" M 267 365 v 0 a 12 12 0 0 0 12 12 m 52 0 h 148 m -71 0 l -5 -5 m 0 10 l 5 -5 m 71 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="nonterminal">
<rect height="22" width="52" x="279" y="366"/>
<text x="305" y="382">
item</text>
</g>
</g>
</g>
<g class="optional">
<path d=" M 521 314 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="545" y="303"/>
<text x="559" y="319">
,</text>
</g>
</g>
<path d=" M 191 314 h 10"/>
<path d=" M 237 314 h 10"/>
<path d=" M 511 314 h 10"/>
</g>
</g>
</g>
</g>
<path d=" M 75 462 h 546 m -270 0 l -5 -5 m 0 10 l 5 -5 m 270 0 a 12 12 0 0 0 12 -12 v -290 m 0 148 l -5 5 m 10 0 l -5 -5 m 0 -148 a 12 12 0 0 1 12 -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="47" y="451"/>
<text x="61" y="467">
}</text>
</g>
</g>
</g>
<path d=" M 655 148 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 148 h 10"/>
<path d=" M 645 148 h 10"/>
</g>
</g>
</svg>
